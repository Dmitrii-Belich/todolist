(this.webpackJsonptodolist=this.webpackJsonptodolist||[]).push([[0],[,,,,,,,,,function(e){e.exports=JSON.parse('{"lists":[{"id":1,"name":"\u041f\u0440\u043e\u0434\u0430\u0436\u0438","colorId":5,"tasks":[{"text":"test","completed":false,"id":10},{"text":"qweqwe","completed":false,"id":11},{"text":"qweqwe","completed":true,"id":12},{"text":"123","completed":false,"id":13}]},{"id":2,"name":"\u0424\u0440\u043e\u043d\u0442\u0435\u043d\u0434","colorId":4,"tasks":[{"id":20,"text":"\u0418\u0437\u0443\u0447\u0438\u0442\u044c JavaScript","completed":true},{"id":21,"text":"\u0418\u0437\u0443\u0447\u0438\u0442\u044c \u043f\u0430\u0442\u0442\u0435\u0440\u043d\u044b \u043f\u0440\u043e\u0435\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f","completed":false},{"id":22,"text":"ReactJS Hooks (useState, useReducer, useEffect \u0438 \u0442.\u0434.)","completed":true},{"id":23,"text":"Redux (redux-observable, redux-saga)","completed":false},{"text":"123","completed":true,"id":24},{"text":"222","completed":true,"id":25}]},{"id":3,"name":"\u0424\u0438\u043b\u044c\u043c\u044b \u0438 \u0441\u0435\u0440\u0438\u0430\u043b\u044b","colorId":3,"tasks":[]},{"id":4,"name":"\u041a\u043d\u0438\u0433\u0438","colorId":2,"tasks":[{"text":"\u041a\u0443\u043f\u0438\u0442\u044c 1984!","completed":true,"id":40}]},{"id":5,"name":"\u041b\u0438\u0447\u043d\u043e\u0435","colorId":1,"tasks":[]},{"name":"\u0421\u043f\u043e\u0440\u0442","colorId":3,"id":6,"tasks":[]},{"name":"\u041a\u0443\u0440\u0441 \u043f\u043e ReactJS ToDo","colorId":7,"id":7,"tasks":[{"text":"\u0421\u0434\u0435\u043b\u0430\u043b\u0438 \u0441\u0430\u0439\u0434\u0431\u0430\u0440","completed":true,"id":70},{"text":"\u0421\u0434\u0435\u043b\u0430\u043b\u0438 \u0441\u043f\u0438\u0441\u043e\u043a \u0437\u0430\u0434\u0430\u0447","completed":true,"id":71},{"text":"\u0421\u0434\u0435\u043b\u0430\u043b\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0438 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447 \u0438 \u0441\u043f\u0438\u0441\u043a\u043e\u0432","completed":true,"id":72}]}],"colors":[{"id":1,"hex":"#C9D1D3","name":"grey"},{"id":2,"hex":"#42B883","name":"green"},{"id":3,"hex":"#64C4ED","name":"blue"},{"id":4,"hex":"#FFBBCC","name":"pink"},{"id":5,"hex":"#B6E6BD","name":"lime"},{"id":6,"hex":"#C355F5","name":"purple"},{"id":7,"hex":"#110133","name":"black"},{"id":8,"hex":"#FF6464","name":"red"}]}')},,,function(e,t,n){e.exports=n.p+"static/media/allFolders.244e2000.svg"},function(e,t,n){e.exports=n.p+"static/media/addFolder.ba9a0c8a.svg"},,function(e,t,n){e.exports=n(33)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(2),c=n.n(r),i=n(10),l=n(1),d=(n(20),n(12)),s=n.n(d),u=n(13),p=n.n(u);function m(e){var t=e.type,n=e.text,o=e.onClick,r=e.activeFolder,c=e.color,i=e.id,l=e.onDeleteFolderClick,d="add"===t?{color:"#767676"}:{};return a.a.createElement("div",{className:"sidebar__folder ".concat(i===r&&"sidebar__folder_type_active"),onClick:function(){o(i)}},"all"===t&&a.a.createElement("img",{className:"sidebar__icon",src:s.a,alt:"\u0418\u043a\u043e\u043d\u043a\u0430 \u0432\u0441\u0435\u0445 \u0437\u0430\u0434\u0430\u0447"}),"add"===t&&a.a.createElement("img",{className:"sidebar__icon",src:p.a,alt:"\u0418\u043a\u043e\u043d\u043a\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0437\u0430\u0434\u0430\u0447"}),"folder"===t&&a.a.createElement("i",{className:"sidebar__icon sidebar__icon_type_folder",style:{backgroundColor:c}}),a.a.createElement("h2",{className:"sidebar__folder-name",style:d},n),"folder"===t&&a.a.createElement("button",{className:"sidebar__delete",onClick:function(e){e.stopPropagation(),l(i)}}))}n(21),n(22);function f(e){var t=e.isActive,n=e.onSubmit,o=e.colors,r=e.onPopupClose,c=a.a.useState(1),i=Object(l.a)(c,2),d=i[0],s=i[1],u=a.a.useState(""),p=Object(l.a)(u,2),m=p[0],f=p[1];return a.a.createElement("form",{onSubmit:function(e){e.preventDefault(),n(m,d),setTimeout((function(){f(""),s(1)}),200)},className:"popup ".concat(t&&"popup_type_visible"),noValidate:!0},a.a.createElement("input",{className:"popup__input",type:"text",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0430\u043f\u043a\u0438",onChange:function(e){f(e.target.value)},required:!0,value:m}),a.a.createElement("div",{className:"popup__checkboxes"},o.map((function(e){return a.a.createElement("i",{key:e.id,className:"popup__radiobox ".concat(e.id===d&&"popup__radiobox_type_active"),onClick:function(){s(e.id)},style:{backgroundColor:e.hex}})}))),a.a.createElement("button",{type:"submit",className:"popup__submit ".concat(!m&&"popup__submit_type_disabled"),disabled:!m&&"disabled"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"),a.a.createElement("button",{type:"button",className:"popup__exit",onClick:function(){r(),setTimeout((function(){f(""),s(1)}),200)}}))}function k(e){var t=e.folders,n=e.activeFolder,o=e.onFolderClick,r=e.onAddFolderClick,c=e.popupSubmitHandler,i=e.isPopupActive,l=e.colors,d=e.onPopupClose,s=e.onDeleteFolderClick;return a.a.createElement("div",{className:"sidebar"},0!==t.length&&a.a.createElement(m,{type:"all",text:"\u0412\u0441\u0435 \u0437\u0430\u0434\u0430\u0447\u0438",id:0,activeFolder:n,onClick:o}),a.a.createElement("ul",{className:"sidebar__folders"},t.map((function(e){return a.a.createElement("li",{key:e.id},a.a.createElement(m,{type:"folder",text:e.name,color:e.color,id:e.id,activeFolder:n,onClick:o,onDeleteFolderClick:s}))}))),a.a.createElement(m,{type:"add",text:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0430\u043f\u043a\u0443",onClick:r,id:1/0}),a.a.createElement(f,{isActive:i,onSubmit:c,colors:l,onPopupClose:d}))}var b=n(3);n(23),n(24);function g(e){var t=e.task,n=e.onTaskClick,o=e.onTaskChange,r=e.onTaskDelete,c=e.index,i=e.folderId,d=a.a.useState(t.text),s=Object(l.a)(d,1)[0],u=t.completed?{textDecoration:"line-through"}:{};return a.a.createElement(b.b,{draggableId:t.id.toString(),index:c},(function(e){return a.a.createElement("li",Object.assign({className:"task",ref:e.innerRef},e.draggableProps,e.dragHandleProps),a.a.createElement("button",{className:"task__checkbox ".concat(t.completed&&"task__checkbox_type_active"),onClick:function(){n(i,t.id)}}),a.a.createElement("p",{className:"task__text",style:u,onInput:function(e){o(i,t.id,e.target.innerText)},onBlur:function(e){o(i,t.id,e.target.innerText)},onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),e.target.blur())},contentEditable:!t.completed,suppressContentEditableWarning:!0},s),a.a.createElement("button",{className:"task__delete",onClick:function(){r(i,t.id)}}))}))}n(31);function _(e){var t=e.name,n=e.currentTasks,o=e.color,r=e.onTaskClick,c=e.onTaskChange,i=e.onAddTaskButton,d=e.id,s=e.onTaskDelete,u=e.onFolderChange,p=e.colors,m=e.onFolderColorChange,f=e.colorId,k=a.a.useState(t),_=Object(l.a)(k,1)[0],x=a.a.useState(f),v=Object(l.a)(x,2),C=v[0],E=v[1],h=a.a.useState(!1),I=Object(l.a)(h,2),S=I[0],F=I[1];return a.a.createElement("div",{className:"taskFolder"},a.a.createElement("h2",{onInput:function(e){u(d,e.target.innerText)},onBlur:function(e){u(d,e.target.innerText)},onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),e.target.blur())},className:"taskFolder__title",style:{color:o},contentEditable:"true",suppressContentEditableWarning:!0},_),a.a.createElement("div",{className:"taskFolder__line"}," "),a.a.createElement("div",{className:"taskFolder__checkboxes  ".concat(S&&"taskFolder__checkboxes_type_visible")},p.map((function(e){return a.a.createElement("i",{key:e.id,className:"taskFolder__radiobox ".concat(e.id===C&&"taskFolder__radiobox_type_active"),onClick:function(){E(e.id)},style:{backgroundColor:e.hex}})})),a.a.createElement("button",{className:"taskFolder__checkboxes-button",onClick:function(){m(d,C),F(!1)}},"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c")),a.a.createElement("button",{className:"taskFolder__editColor",onClick:function(){F(!0)}}),a.a.createElement(b.c,{droppableId:d.toString()},(function(e){return a.a.createElement("ul",Object.assign({ref:e.innerRef},e.droppableProps),n.map((function(e,t){return a.a.createElement(g,{onTaskDelete:s,key:e.id,task:e,onTaskClick:r,onTaskChange:c,index:t,folderId:d})})),e.placeholder)})),0===n.length&&a.a.createElement("p",{className:"taskFolder__empty"},"\u0417\u0430\u0434\u0430\u0447\u0438 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442"),a.a.createElement("button",{className:"taskFolder__add",onClick:function(){i(d)}}))}function x(e){var t=e.folders,n=e.onTaskClick,o=e.onTaskChange,r=e.onAddTaskButton,c=e.onTaskDelete,i=e.onFolderChange,l=e.colors,d=e.onFolderColorChange,s=e.onDropInSameFolder,u=e.onDropInEnotherFolder;return a.a.createElement(b.a,{onDragStart:function(){window.navigator.vibrate&&window.navigator.vibrate(50)},onDragEnd:function(e){e.destination&&e.source.droppableId===e.destination.droppableId&&s(e.destination.index,+e.source.droppableId,+e.draggableId),e.destination&&e.source.droppableId!==e.destination.droppableId&&(console.log(e),u(e.destination.index,+e.source.droppableId,+e.destination.droppableId,+e.draggableId))}},a.a.createElement("div",{className:"taskBar"},t.map((function(e){return a.a.createElement(_,{onFolderColorChange:d,colors:l,onFolderChange:i,onTaskDelete:c,id:e.id,colorId:e.colorId,onAddTaskButton:r,onTaskChange:o,onTaskClick:n,key:e.id,name:e.name,currentTasks:e.tasks,color:e.color})})),0===t.length&&a.a.createElement("p",{className:"taskBar__empty"},"\u0417\u0430\u0434\u0430\u0447\u0438 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442")))}var v=n(9);function C(){var e=a.a.useState(0),t=Object(l.a)(e,2),n=t[0],o=t[1],r=a.a.useState(localStorage.getItem("folders")&&!localStorage.getItem("tasks")?JSON.parse(localStorage.getItem("folders")):function(){return localStorage.clear(),localStorage.setItem("folders",JSON.stringify(v.lists)),JSON.parse(localStorage.getItem("folders"))}),c=Object(l.a)(r,2),d=c[0],s=c[1],u=a.a.useState(localStorage.getItem("colors")?JSON.parse(localStorage.getItem("colors")):function(){return localStorage.setItem("colors",JSON.stringify(v.colors)),JSON.parse(localStorage.getItem("colors"))}),p=Object(l.a)(u,1)[0],m=a.a.useState(!1),f=Object(l.a)(m,2),b=f[0],g=f[1],_=function(){g(!1)};d.map((function(e){return e.color=p.find((function(t){return t.id===e.colorId})).hex,e}));var C=function(e,t){var n,o=h(e);s(o),n=o,localStorage["folders"]=JSON.stringify(n)},E=function(e,t){if(!t.length)return+(e.toString()+0);for(var n=0,o=+(e.toString()+n);t.some((function(e){return e.id===o}));)o=+(e.toString()+n),n++;return o},h=function(e){var t=[];return e.forEach((function(n,o){t.push(Object.assign({},n)),t[o].tasks=[],e[o].tasks.forEach((function(e){t[o].tasks.push(Object.assign({},e))}))})),t};return a.a.createElement("div",{className:"todo"},a.a.createElement(k,{folders:d,activeFolder:n,onAddFolderClick:function(){g(!0)},onFolderClick:function(e){o(e)},isPopupActive:b,popupSubmitHandler:function(e,t){var n=d;n.push({name:e,colorId:t,id:d[d.length-1]?d[d.length-1].id+1:1}),C(n),_()},colors:p,onPopupClose:_,onDeleteFolderClick:function(e){o(0);var t=h(d),n=t.findIndex((function(t){return t.id===e}));t.splice(n,1),C(t)}}),a.a.createElement(x,{onDropInSameFolder:function(e,t,n){var o=h(d),a=o.find((function(e){return e.id===t})).tasks,r=a.find((function(e){return e.id===n}));a.splice(a.findIndex((function(e){return e.id===n})),1);var c=a.splice(e);a.push.apply(a,[r].concat(Object(i.a)(c))),C(o)},onFolderChange:function(e,t){var n=h(d);n.find((function(t){return t.id===e})).name=t,C(n)},onTaskDelete:function(e,t){var n=h(d),o=n.find((function(t){return t.id===e})),a=o.tasks.findIndex((function(e){return e.id===t}));o.tasks.splice(a,1),C(n)},onAddTaskButton:function(e){var t=h(d),n=t.find((function(t){return t.id===e}));n.tasks.push({listId:e,text:"",completed:!1,id:E(e,n.tasks)}),C(t)},onTaskChange:function(e,t,n){var o=h(d);o.find((function(t){return t.id===e})).tasks.find((function(e){return e.id===t})).text=n,C(o)},onTaskClick:function(e,t){var n=h(d),o=n.find((function(t){return t.id===e})).tasks.find((function(e){return e.id===t}));o.completed=!o.completed,C(n)},colors:p,folders:0===n?d:[d.find((function(e){return e.id===n}))],onFolderColorChange:function(e,t){var n=h(d);n.find((function(t){return t.id===e})).colorId=t,C(n)},onDropInEnotherFolder:function(e,t,n,o){console.log(e,n,t,o);var a=h(d),r=a.find((function(e){return e.id===t})).tasks,c=r.find((function(e){return e.id===o}));r.splice(r.findIndex((function(e){return e.id===o})),1);var l=a.find((function(e){return e.id===n})).tasks;c.id=E(n,l);var s=l.splice(e);l.push.apply(l,[c].concat(Object(i.a)(s))),C(a)}}))}n(32);c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(C,null)),document.getElementById("root"))}],[[15,1,2]]]);
//# sourceMappingURL=main.5bb7818b.chunk.js.map