(this.webpackJsonptodolist=this.webpackJsonptodolist||[]).push([[0],[,,,,,,,,,,,function(e){e.exports=JSON.parse('{"lists":[{"id":1,"name":"\u0427\u0442\u043e \u044f \u0443\u043c\u0435\u044e?","colorId":5,"tasks":[{"text":"\u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c, \u0443\u0434\u0430\u043b\u044f\u0442\u044c \u0438 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0430\u043f\u043a\u0438 \u0441 \u0437\u0430\u0434\u0430\u0447\u0430\u043c\u0438","completed":false,"id":10},{"text":"\u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c, \u0443\u0434\u0430\u043b\u044f\u0442\u044c, \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c, \u043e\u0442\u043c\u0435\u0447\u0430\u0442\u044c \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u043c\u0438 \u0441\u0430\u043c\u0438 \u0437\u0430\u0434\u0430\u0447\u0438","completed":false,"id":11},{"text":"\u041c\u0435\u043d\u044f\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0438 \u0438 \u043f\u0430\u043f\u043a\u0438 \u0441 \u0437\u0430\u0434\u0430\u0447\u0430\u043c\u0438 \u043c\u0435\u0441\u0442\u0430\u043c\u0438","completed":false,"id":12}]},{"id":2,"name":"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438","colorId":4,"tasks":[{"id":20,"text":"React","completed":false},{"id":21,"text":"SSCSS","completed":false}]}],"colors":[{"id":1,"hex":"#C9D1D3","name":"grey"},{"id":2,"hex":"#42B883","name":"green"},{"id":3,"hex":"#64C4ED","name":"blue"},{"id":4,"hex":"#FFBBCC","name":"pink"},{"id":5,"hex":"#B6E6BD","name":"lime"},{"id":6,"hex":"#C355F5","name":"purple"},{"id":7,"hex":"#110133","name":"black"},{"id":8,"hex":"#FF6464","name":"red"}]}')},,function(e,t,n){e.exports=n.p+"static/media/allFolders.733abe6d.svg"},function(e,t,n){e.exports=n.p+"static/media/addFolder.35b06433.svg"},,,function(e,t,n){e.exports=n(36)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(3),i=n.n(r),c=n(6),l=n(1),s=n(2),d=(n(22),n(13)),u=n.n(d),p=n(14),f=n.n(p);function m(e){var t=e.type,n=e.text,a=e.onClick,r=e.activeFolder,i=e.color,c=e.id,l=e.onDeleteFolderClick,s="add"===t?{color:"#767676"}:{};return o.a.createElement("div",{className:"sidebar__folder ".concat(c===r&&"sidebar__folder_type_active"),onClick:function(){a(c)}},"all"===t&&o.a.createElement("img",{className:"sidebar__icon",src:u.a,alt:"\u0418\u043a\u043e\u043d\u043a\u0430 \u0432\u0441\u0435\u0445 \u0437\u0430\u0434\u0430\u0447"}),"add"===t&&o.a.createElement("img",{className:"sidebar__icon",src:f.a,alt:"\u0418\u043a\u043e\u043d\u043a\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0437\u0430\u0434\u0430\u0447"}),"folder"===t&&o.a.createElement("i",{className:"sidebar__icon sidebar__icon_type_folder",style:{backgroundColor:i}}),o.a.createElement("h2",{className:"sidebar__folder-name",style:s},n),"folder"===t&&o.a.createElement("button",{className:"sidebar__delete",onClick:function(e){e.stopPropagation(),l(c)}}))}n(23),n(24);function k(e){var t=e.isActive,n=e.onSubmit,a=e.colors,r=e.onPopupClose,i=o.a.useState(1),c=Object(l.a)(i,2),s=c[0],d=c[1],u=o.a.useState(""),p=Object(l.a)(u,2),f=p[0],m=p[1];return o.a.createElement("form",{onSubmit:function(e){e.preventDefault(),n(f,s),setTimeout((function(){m(""),d(1)}),200)},className:"popup ".concat(t&&"popup_type_visible"),noValidate:!0},o.a.createElement("input",{className:"popup__input",type:"text",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0430\u043f\u043a\u0438",onChange:function(e){m(e.target.value)},required:!0,value:f}),o.a.createElement("div",{className:"popup__checkboxes"},a.map((function(e){return o.a.createElement("i",{key:e.id,className:"popup__radiobox ".concat(e.id===s&&"popup__radiobox_type_active"),onClick:function(){d(e.id)},style:{backgroundColor:e.hex}})}))),o.a.createElement("button",{type:"submit",className:"popup__submit ".concat(!f&&"popup__submit_type_disabled"),disabled:!f&&"disabled"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"),o.a.createElement("button",{type:"button",className:"popup__exit",onClick:function(){r(),setTimeout((function(){m(""),d(1)}),200)}}))}function b(e){var t=e.folders,n=e.activeFolder,a=e.onFolderClick,r=e.onAddFolderClick,i=e.popupSubmitHandler,c=e.isPopupActive,l=e.colors,d=e.onPopupClose,u=e.onDeleteFolderClick,p=e.onDrop,f=e.sideBarState,b=e.setSideBarState;return o.a.createElement(s.a,{onDragStart:function(){window.navigator.vibrate&&window.navigator.vibrate(50)},onDragEnd:function(e){console.log("drop",e),e.destination&&p(e.destination.index,+e.draggableId)}},f&&o.a.createElement("div",{className:"sidebar__overlay",onClick:function(){b(!f)}}),o.a.createElement("div",{className:"sidebar ".concat(f&&"sidebar_active")},0!==t.length&&o.a.createElement(m,{type:"all",text:"\u0412\u0441\u0435 \u0437\u0430\u0434\u0430\u0447\u0438",id:0,activeFolder:n,onClick:a}),o.a.createElement(s.c,{droppableId:"folder"},(function(e){return o.a.createElement("ul",Object.assign({className:"sidebar__folders",ref:e.innerRef},e.droppableProps),t.map((function(e,t){return o.a.createElement(s.b,{draggableId:e.id.toString(),index:t,key:e.id},(function(t){return o.a.createElement("li",Object.assign({ref:t.innerRef},t.draggableProps,t.dragHandleProps),o.a.createElement(m,{type:"folder",text:e.name,color:e.color,id:e.id,activeFolder:n,onClick:a,onDeleteFolderClick:u}))}))})),e.placeholder)})),o.a.createElement(m,{type:"add",text:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0430\u043f\u043a\u0443",onClick:r,id:1/0}),o.a.createElement(k,{isActive:c,onSubmit:i,colors:l,onPopupClose:d})))}n(31);var g=n(10),_=n.n(g),v=n(16);n(33);function C(e){var t=e.task,n=e.onTaskClick,a=e.onTaskChange,r=e.onTaskDelete,i=e.index,c=e.folderId,d=o.a.useState(t.text),u=Object(l.a)(d,1)[0],p=o.a.useState(!1),f=Object(l.a)(p,2),m=f[0],k=f[1],b=t.completed?{textDecoration:"line-through"}:{},g=o.a.useRef();return o.a.createElement(s.b,{draggableId:t.id.toString(),index:i},(function(e){return o.a.createElement("li",Object.assign({className:"task",ref:e.innerRef},e.draggableProps,e.dragHandleProps),o.a.createElement("button",{className:"task__checkbox ".concat(t.completed&&"task__checkbox_type_active"),onClick:function(){n(c,t.id)}}),o.a.createElement("p",{className:"task__text",style:b,onInput:function(e){a(c,t.id,e.target.innerText)},onBlur:function(e){a(c,t.id,e.target.innerText),k(!1)},onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),e.target.blur())},contentEditable:m,suppressContentEditableWarning:!0,ref:g},u),o.a.createElement("button",{className:"task__edit",onClick:Object(v.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(!0);case 2:g.current.focus();case 3:case"end":return e.stop()}}),e)})))}),o.a.createElement("button",{className:"task__delete",onClick:function(){r(c,t.id)}}))}))}n(34);function E(e){var t=e.name,n=e.currentTasks,a=e.color,r=e.onTaskClick,i=e.onTaskChange,c=e.onAddTaskButton,d=e.id,u=e.onTaskDelete,p=e.onFolderChange,f=e.colors,m=e.onFolderColorChange,k=e.colorId,b=o.a.useState(t),g=Object(l.a)(b,1)[0],_=o.a.useState(k),v=Object(l.a)(_,2),E=v[0],h=v[1],x=o.a.useState(!1),S=Object(l.a)(x,2),I=S[0],F=S[1];return o.a.createElement("div",{className:"taskFolder"},o.a.createElement("h2",{onInput:function(e){p(d,e.target.innerText)},onBlur:function(e){p(d,e.target.innerText)},onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),e.target.blur())},className:"taskFolder__title",style:{color:a},contentEditable:"true",suppressContentEditableWarning:!0},g),o.a.createElement("div",{className:"taskFolder__line"}," "),o.a.createElement("div",{className:"taskFolder__checkboxes  ".concat(I&&"taskFolder__checkboxes_type_visible")},f.map((function(e){return o.a.createElement("i",{key:e.id,className:"taskFolder__radiobox ".concat(e.id===E&&"taskFolder__radiobox_type_active"),onClick:function(){h(e.id)},style:{backgroundColor:e.hex}})})),o.a.createElement("button",{className:"taskFolder__checkboxes-button",onClick:function(){m(d,E),F(!1)}},"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c")),o.a.createElement("button",{className:"taskFolder__editColor",onClick:function(){F(!I)}}),o.a.createElement(s.c,{droppableId:d.toString()},(function(e){return o.a.createElement("ul",Object.assign({ref:e.innerRef},e.droppableProps),n.map((function(e,t){return o.a.createElement(C,{onTaskDelete:u,key:e.id,task:e,onTaskClick:r,onTaskChange:i,index:t,folderId:d})})),e.placeholder)})),0===n.length&&o.a.createElement("p",{className:"taskFolder__empty"},"\u0417\u0430\u0434\u0430\u0447\u0438 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442"),o.a.createElement("button",{className:"taskFolder__add",onClick:function(){c(d)}}))}function h(e){var t=e.folders,n=e.onTaskClick,a=e.onTaskChange,r=e.onAddTaskButton,i=e.onTaskDelete,c=e.onFolderChange,l=e.colors,d=e.onFolderColorChange,u=e.onDropInSameFolder,p=e.onDropInEnotherFolder;return o.a.createElement(s.a,{onDragStart:function(){window.navigator.vibrate&&window.navigator.vibrate(50)},onDragEnd:function(e){e.destination&&e.source.droppableId===e.destination.droppableId&&u(e.destination.index,+e.source.droppableId,+e.draggableId),e.destination&&e.source.droppableId!==e.destination.droppableId&&(console.log(e),p(e.destination.index,+e.source.droppableId,+e.destination.droppableId,+e.draggableId))}},o.a.createElement("div",{className:"taskBar"},t.map((function(e){return o.a.createElement(E,{onFolderColorChange:d,colors:l,onFolderChange:c,onTaskDelete:i,id:e.id,colorId:e.colorId,onAddTaskButton:r,onTaskChange:a,onTaskClick:n,key:e.id,name:e.name,currentTasks:e.tasks,color:e.color})})),0===t.length&&o.a.createElement("p",{className:"taskBar__empty"},"\u0417\u0430\u0434\u0430\u0447\u0438 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442")))}var x=n(11);function S(){var e=o.a.useState(0),t=Object(l.a)(e,2),n=t[0],a=t[1],r=o.a.useState(!1),i=Object(l.a)(r,2),s=i[0],d=i[1],u=o.a.useState(localStorage.getItem("folders")&&!localStorage.getItem("tasks")?JSON.parse(localStorage.getItem("folders")):function(){return localStorage.clear(),localStorage.setItem("folders",JSON.stringify(x.lists)),JSON.parse(localStorage.getItem("folders"))}),p=Object(l.a)(u,2),f=p[0],m=p[1],k=o.a.useState(localStorage.getItem("colors")?JSON.parse(localStorage.getItem("colors")):function(){return localStorage.setItem("colors",JSON.stringify(x.colors)),JSON.parse(localStorage.getItem("colors"))}),g=Object(l.a)(k,1)[0],_=o.a.useState(!1),v=Object(l.a)(_,2),C=v[0],E=v[1],S=function(){E(!1)};f.map((function(e){return e.color=g.find((function(t){return t.id===e.colorId})).hex,e}));var I=function(e){var t;m(e),t=e,localStorage["folders"]=JSON.stringify(t)},F=function(e,t){if(!t.length)return+(e.toString()+0);for(var n=0,a=+(e.toString()+n);t.some((function(e){return e.id===a}));)a=+(e.toString()+n),n++;return a},y=function(e){var t=[];return e.forEach((function(n,a){t.push(Object.assign({},n)),t[a].tasks=[],e[a].tasks.forEach((function(e){t[a].tasks.push(Object.assign({},e))}))})),t};return o.a.createElement("div",{className:"todo"},o.a.createElement("button",{className:"todo__sidebarButton ".concat(s&&"todo__sidebarButton_type_close"),onClick:function(){d(!s)}}),o.a.createElement(b,{folders:f,activeFolder:n,onAddFolderClick:function(){E(!0)},onFolderClick:function(e){a(e)},isPopupActive:C,popupSubmitHandler:function(e,t){var n=y(f);n.push({name:e,colorId:t,id:f.length?f.length+1:1,tasks:[]}),I(n),S()},colors:g,onPopupClose:S,onDeleteFolderClick:function(e){a(0);var t=y(f),n=t.findIndex((function(t){return t.id===e}));t.splice(n,1),I(t)},onDrop:function(e,t){var n=y(f),a=n.find((function(e){return e.id===t}));n.splice(n.findIndex((function(e){return e.id===t})),1);var o=n.splice(e);n.push.apply(n,[a].concat(Object(c.a)(o))),I(n)},sideBarState:s,setSideBarState:d}),o.a.createElement(h,{onDropInSameFolder:function(e,t,n){var a=y(f),o=a.find((function(e){return e.id===t})).tasks,r=o.find((function(e){return e.id===n}));o.splice(o.findIndex((function(e){return e.id===n})),1);var i=o.splice(e);o.push.apply(o,[r].concat(Object(c.a)(i))),I(a)},onFolderChange:function(e,t){var n=y(f);n.find((function(t){return t.id===e})).name=t,I(n)},onTaskDelete:function(e,t){var n=y(f),a=n.find((function(t){return t.id===e})),o=a.tasks.findIndex((function(e){return e.id===t}));a.tasks.splice(o,1),I(n)},onAddTaskButton:function(e){var t=y(f),n=t.find((function(t){return t.id===e}));n.tasks.push({listId:e,text:"",completed:!1,id:F(e,n.tasks)}),I(t)},onTaskChange:function(e,t,n){var a=y(f);a.find((function(t){return t.id===e})).tasks.find((function(e){return e.id===t})).text=n,I(a)},onTaskClick:function(e,t){var n=y(f),a=n.find((function(t){return t.id===e})).tasks.find((function(e){return e.id===t}));a.completed=!a.completed,I(n)},colors:g,folders:0===n?f:[f.find((function(e){return e.id===n}))],onFolderColorChange:function(e,t){var n=y(f);n.find((function(t){return t.id===e})).colorId=t,I(n)},onDropInEnotherFolder:function(e,t,n,a){console.log(e,n,t,a);var o=y(f),r=o.find((function(e){return e.id===t})).tasks,i=r.find((function(e){return e.id===a}));r.splice(r.findIndex((function(e){return e.id===a})),1);var l=o.find((function(e){return e.id===n})).tasks;i.id=F(n,l);var s=l.splice(e);l.push.apply(l,[i].concat(Object(c.a)(s))),I(o)}}))}n(35);i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(S,null)),document.getElementById("root"))}],[[17,1,2]]]);
//# sourceMappingURL=main.61167568.chunk.js.map