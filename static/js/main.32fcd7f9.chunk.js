(this.webpackJsonptodolist=this.webpackJsonptodolist||[]).push([[0],[,,,,,,,,,,,,function(e){e.exports=JSON.parse('{"lists":[{"id":1,"name":"\u0427\u0442\u043e \u044f \u0443\u043c\u0435\u044e?","colorId":5,"tasks":[{"text":"\u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c, \u0443\u0434\u0430\u043b\u044f\u0442\u044c \u0438 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0430\u043f\u043a\u0438 \u0441 \u0437\u0430\u0434\u0430\u0447\u0430\u043c\u0438","completed":false,"id":10},{"text":"\u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c, \u0443\u0434\u0430\u043b\u044f\u0442\u044c, \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c, \u043e\u0442\u043c\u0435\u0447\u0430\u0442\u044c \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u043c\u0438 \u0441\u0430\u043c\u0438 \u0437\u0430\u0434\u0430\u0447\u0438","completed":false,"id":11},{"text":"\u041c\u0435\u043d\u044f\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0438 \u0438 \u043f\u0430\u043f\u043a\u0438 \u0441 \u0437\u0430\u0434\u0430\u0447\u0430\u043c\u0438 \u043c\u0435\u0441\u0442\u0430\u043c\u0438","completed":false,"id":12}]},{"id":2,"name":"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438","colorId":4,"tasks":[{"id":20,"text":"React","completed":false},{"id":21,"text":"SSCSS","completed":false}]}],"colors":[{"id":1,"hex":"#C9D1D3","name":"grey"},{"id":2,"hex":"#42B883","name":"green"},{"id":3,"hex":"#64C4ED","name":"blue"},{"id":4,"hex":"#FFBBCC","name":"pink"},{"id":5,"hex":"#B6E6BD","name":"lime"},{"id":6,"hex":"#C355F5","name":"purple"},{"id":7,"hex":"#110133","name":"black"},{"id":8,"hex":"#FF6464","name":"red"}]}')},,,,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},,,,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(5),c=n.n(r),i=n(8),s=n(2),d=n(3),l=n(4),u=(n(19),n.p+"static/media/allFolders.a862c15f.svg"),p=n.p+"static/media/addFolder.bb82cf25.svg",f=n(1);function b(e){var t=e.type,n=e.text,o=e.onClick,a=e.activeFolder,r=e.color,c=e.id,i=e.onDeleteFolderClick,s="add"===t?{color:"#767676"}:{};return Object(f.jsxs)("div",{className:"sidebar__folder ".concat(c===a&&"sidebar__folder_type_active"),style:"folder"===t?{}:{cursor:"pointer"},onClick:function(){o(c)},children:["all"===t&&Object(f.jsx)("img",{className:"sidebar__icon",src:u,alt:"\u0418\u043a\u043e\u043d\u043a\u0430 \u0432\u0441\u0435\u0445 \u0437\u0430\u0434\u0430\u0447"}),"add"===t&&Object(f.jsx)("img",{className:"sidebar__icon",src:p,alt:"\u0418\u043a\u043e\u043d\u043a\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0437\u0430\u0434\u0430\u0447"}),"folder"===t&&Object(f.jsx)("i",{className:"sidebar__icon sidebar__icon_type_folder",style:{backgroundColor:r}}),Object(f.jsx)("h2",{className:"sidebar__folder-name",style:s,children:n}),"folder"===t&&Object(f.jsx)("button",{className:"sidebar__delete",onClick:function(e){e.stopPropagation(),i(c)}})]})}n(21),n(22);function j(e){var t=e.isActive,n=e.onSubmit,o=e.colors,r=e.onPopupClose,c=a.a.useState(1),i=Object(s.a)(c,2),d=i[0],l=i[1],u=a.a.useState(""),p=Object(s.a)(u,2),b=p[0],j=p[1];return Object(f.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n(b,d),setTimeout((function(){j(""),l(1)}),200)},className:"popup ".concat(t&&"popup_type_visible"),noValidate:!0,children:[Object(f.jsx)("input",{className:"popup__input",type:"text",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0430\u043f\u043a\u0438",onChange:function(e){j(e.target.value)},required:!0,value:b}),Object(f.jsx)("div",{className:"popup__checkboxes",children:o.map((function(e){return Object(f.jsx)("i",{className:"popup__radiobox ".concat(e.id===d&&"popup__radiobox_type_active"),onClick:function(){l(e.id)},style:{backgroundColor:e.hex}},e.id)}))}),Object(f.jsx)("button",{type:"submit",className:"popup__submit ".concat(!b&&"popup__submit_type_disabled"),disabled:!b&&"disabled",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}),Object(f.jsx)("button",{type:"button",className:"popup__exit",onClick:function(){r(),setTimeout((function(){j(""),l(1)}),200)}})]})}function k(e){var t=e.folders,n=e.activeFolder,o=e.onFolderClick,a=e.onAddFolderClick,r=e.popupSubmitHandler,c=e.isPopupActive,i=e.colors,s=e.onPopupClose,u=e.onDeleteFolderClick,p=e.onDrop,k=e.sideBarState,x=e.setSideBarState;return Object(f.jsxs)(l.a,{onDragStart:function(){window.navigator.vibrate&&window.navigator.vibrate(50)},onDragEnd:function(e){e.destination&&p(e.destination.index,+e.draggableId)},children:[k&&Object(f.jsx)("div",{className:"sidebar__overlay",onClick:function(){x(!k)}}),Object(f.jsxs)("div",{className:"sidebar ".concat(k&&"sidebar_active"),children:[0!==t.length&&Object(f.jsx)(b,{type:"all",text:"\u0412\u0441\u0435 \u0437\u0430\u0434\u0430\u0447\u0438",id:0,activeFolder:n,onClick:o}),Object(f.jsx)(l.c,{droppableId:"folder",children:function(e){return Object(f.jsxs)("ul",Object(d.a)(Object(d.a)({className:"sidebar__folders",ref:e.innerRef},e.droppableProps),{},{children:[t.map((function(e,t){return Object(f.jsx)(l.b,{draggableId:e.id.toString(),index:t,children:function(t){return Object(f.jsx)("li",Object(d.a)(Object(d.a)(Object(d.a)({ref:t.innerRef},t.draggableProps),t.dragHandleProps),{},{children:Object(f.jsx)(b,{type:"folder",text:e.name,color:e.color,id:e.id,activeFolder:n,onClick:o,onDeleteFolderClick:u})}))}},e.id)})),e.placeholder]}))}}),Object(f.jsx)(b,{type:"add",text:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0430\u043f\u043a\u0443",onClick:a,id:1/0}),Object(f.jsx)(j,{isActive:c,onSubmit:r,colors:i,onPopupClose:s})]})]})}n(29);var x=n(11),m=n.n(x),g=n(14);n(31);function _(e){var t=e.task,n=e.onTaskClick,o=e.onTaskChange,r=e.onTaskDelete,c=e.index,i=e.folderId,u=a.a.useState(t.text),p=Object(s.a)(u,1)[0],b=a.a.useState(!1),j=Object(s.a)(b,2),k=j[0],x=j[1],_=t.completed?{textDecoration:"line-through"}:{},h=a.a.useRef();return Object(f.jsx)(l.b,{draggableId:t.id.toString(),index:c,children:function(e){return Object(f.jsxs)("li",Object(d.a)(Object(d.a)(Object(d.a)({className:"task",ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{children:[Object(f.jsx)("button",{className:"task__checkbox ".concat(t.completed&&"task__checkbox_type_active"),onClick:function(){n(i,t.id)}}),Object(f.jsx)("p",{className:"task__text",style:_,onInput:function(e){o(i,t.id,e.target.innerText)},onBlur:function(e){o(i,t.id,e.target.innerText),x(!1)},onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),e.target.blur())},contentEditable:k,suppressContentEditableWarning:!0,ref:h,children:p}),Object(f.jsx)("button",{className:"task__edit",onClick:Object(g.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(!0);case 2:h.current.focus();case 3:case"end":return e.stop()}}),e)})))}),Object(f.jsx)("button",{className:"task__delete",onClick:function(){r(i,t.id)}})]}))}})}n(32);function h(e){var t=e.name,n=e.currentTasks,o=e.color,r=e.onTaskClick,c=e.onTaskChange,i=e.onAddTaskButton,u=e.id,p=e.onTaskDelete,b=e.onFolderChange,j=e.colors,k=e.onFolderColorChange,x=e.colorId,m=a.a.useState(t),g=Object(s.a)(m,1)[0],h=a.a.useState(x),O=Object(s.a)(h,2),v=O[0],C=O[1],S=a.a.useState(!1),I=Object(s.a)(S,2),F=I[0],N=I[1];return Object(f.jsxs)("div",{className:"taskFolder",children:[Object(f.jsx)("h2",{onInput:function(e){b(u,e.target.innerText)},onBlur:function(e){b(u,e.target.innerText)},onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),e.target.blur())},className:"taskFolder__title",style:{color:o},contentEditable:"true",suppressContentEditableWarning:!0,children:g}),Object(f.jsx)("div",{className:"taskFolder__line",children:" "}),Object(f.jsxs)("div",{className:"taskFolder__checkboxes  ".concat(F&&"taskFolder__checkboxes_type_visible"),children:[j.map((function(e){return Object(f.jsx)("i",{className:"taskFolder__radiobox ".concat(e.id===v&&"taskFolder__radiobox_type_active"),onClick:function(){C(e.id)},style:{backgroundColor:e.hex}},e.id)})),Object(f.jsx)("button",{className:"taskFolder__checkboxes-button",onClick:function(){k(u,v),N(!1)},children:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"})]}),Object(f.jsx)("button",{className:"taskFolder__editColor",onClick:function(){N(!F)}}),Object(f.jsx)(l.c,{droppableId:u.toString(),children:function(e){return Object(f.jsxs)("ul",Object(d.a)(Object(d.a)({ref:e.innerRef},e.droppableProps),{},{children:[n.map((function(e,t){return Object(f.jsx)(_,{onTaskDelete:p,task:e,onTaskClick:r,onTaskChange:c,index:t,folderId:u},e.id)})),e.placeholder]}))}}),0===n.length&&Object(f.jsx)("p",{className:"taskFolder__empty",children:"\u0417\u0430\u0434\u0430\u0447\u0438 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442"}),Object(f.jsx)("button",{className:"taskFolder__add",onClick:function(){i(u)}})]})}function O(e){var t=e.folders,n=e.onTaskClick,o=e.onTaskChange,a=e.onAddTaskButton,r=e.onTaskDelete,c=e.onFolderChange,i=e.colors,s=e.onFolderColorChange,d=e.onDropInSameFolder,u=e.onDropInEnotherFolder;return Object(f.jsx)(l.a,{onDragStart:function(){window.navigator.vibrate&&window.navigator.vibrate(50)},onDragEnd:function(e){e.destination&&e.source.droppableId===e.destination.droppableId&&d(e.destination.index,+e.source.droppableId,+e.draggableId),e.destination&&e.source.droppableId!==e.destination.droppableId&&u(e.destination.index,+e.source.droppableId,+e.destination.droppableId,+e.draggableId)},children:Object(f.jsxs)("div",{className:"taskBar",children:[t.map((function(e){return Object(f.jsx)(h,{onFolderColorChange:s,colors:i,onFolderChange:c,onTaskDelete:r,id:e.id,colorId:e.colorId,onAddTaskButton:a,onTaskChange:o,onTaskClick:n,name:e.name,currentTasks:e.tasks,color:e.color},e.id)})),0===t.length&&Object(f.jsx)("p",{className:"taskBar__empty",children:"\u0417\u0430\u0434\u0430\u0447\u0438 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442"})]})})}var v=n(12);function C(){var e=a.a.useState(0),t=Object(s.a)(e,2),n=t[0],o=t[1],r=a.a.useState(!1),c=Object(s.a)(r,2),d=c[0],l=c[1],u=a.a.useState(localStorage.getItem("folders")&&!localStorage.getItem("tasks")?JSON.parse(localStorage.getItem("folders")):function(){return localStorage.clear(),localStorage.setItem("folders",JSON.stringify(v.lists)),JSON.parse(localStorage.getItem("folders"))}),p=Object(s.a)(u,2),b=p[0],j=p[1],x=a.a.useState(localStorage.getItem("colors")?JSON.parse(localStorage.getItem("colors")):function(){return localStorage.setItem("colors",JSON.stringify(v.colors)),JSON.parse(localStorage.getItem("colors"))}),m=Object(s.a)(x,1)[0],g=a.a.useState(!1),_=Object(s.a)(g,2),h=_[0],C=_[1],S=function(){C(!1)};b.map((function(e){return e.color=m.find((function(t){return t.id===e.colorId})).hex,e}));var I=function(e){var t;j(e),t=e,localStorage["folders"]=JSON.stringify(t)},F=function(e,t){if(!t.length)return+(e.toString()+0);for(var n=0,o=+(e.toString()+n);t.some((function(e){return e.id===o}));)o=+(e.toString()+n),n++;return o},N=function(e){var t=[];return e.forEach((function(n,o){t.push(Object.assign({},n)),t[o].tasks=[],e[o].tasks.forEach((function(e){t[o].tasks.push(Object.assign({},e))}))})),t};return Object(f.jsxs)("div",{className:"todo",children:[Object(f.jsx)("button",{className:"todo__sidebarButton ".concat(d&&"todo__sidebarButton_type_close"),onClick:function(){l(!d)}}),Object(f.jsx)(k,{folders:b,activeFolder:n,onAddFolderClick:function(){C(!0)},onFolderClick:function(e){o(e)},isPopupActive:h,popupSubmitHandler:function(e,t){var n=N(b);n.push({name:e,colorId:t,id:b.length?b.length+1:1,tasks:[]}),I(n),S()},colors:m,onPopupClose:S,onDeleteFolderClick:function(e){o(0);var t=N(b),n=t.findIndex((function(t){return t.id===e}));t.splice(n,1),I(t)},onDrop:function(e,t){var n=N(b),o=n.find((function(e){return e.id===t}));n.splice(n.findIndex((function(e){return e.id===t})),1);var a=n.splice(e);n.push.apply(n,[o].concat(Object(i.a)(a))),I(n)},sideBarState:d,setSideBarState:l}),Object(f.jsx)(O,{onDropInSameFolder:function(e,t,n){var o=N(b),a=o.find((function(e){return e.id===t})).tasks,r=a.find((function(e){return e.id===n}));a.splice(a.findIndex((function(e){return e.id===n})),1);var c=a.splice(e);a.push.apply(a,[r].concat(Object(i.a)(c))),I(o)},onFolderChange:function(e,t){var n=N(b);n.find((function(t){return t.id===e})).name=t,I(n)},onTaskDelete:function(e,t){var n=N(b),o=n.find((function(t){return t.id===e})),a=o.tasks.findIndex((function(e){return e.id===t}));o.tasks.splice(a,1),I(n)},onAddTaskButton:function(e){var t=N(b),n=t.find((function(t){return t.id===e}));n.tasks.push({listId:e,text:"",completed:!1,id:F(e,n.tasks)}),I(t)},onTaskChange:function(e,t,n){var o=N(b);o.find((function(t){return t.id===e})).tasks.find((function(e){return e.id===t})).text=n,I(o)},onTaskClick:function(e,t){var n=N(b),o=n.find((function(t){return t.id===e})).tasks.find((function(e){return e.id===t}));o.completed=!o.completed,I(n)},colors:m,folders:0===n?b:[b.find((function(e){return e.id===n}))],onFolderColorChange:function(e,t){var n=N(b);n.find((function(t){return t.id===e})).colorId=t,I(n)},onDropInEnotherFolder:function(e,t,n,o){var a=N(b),r=a.find((function(e){return e.id===t})).tasks,c=r.find((function(e){return e.id===o}));r.splice(r.findIndex((function(e){return e.id===o})),1);var s=a.find((function(e){return e.id===n})).tasks;c.id=F(n,s);var d=s.splice(e);s.push.apply(s,[c].concat(Object(i.a)(d))),I(a)}})]})}n(33);c.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(C,{})}),document.getElementById("root"))}],[[34,1,2]]]);
//# sourceMappingURL=main.32fcd7f9.chunk.js.map